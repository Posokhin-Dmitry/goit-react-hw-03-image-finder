{"version":3,"sources":["components/Searchbar/Searchbar.js","Servises/api.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","state","query","handleSubmit","event","preventDefault","trim","alert","props","onSubmit","setState","handleQuery","target","value","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","searchQuery","page","maxPerPage","axios","get","Button","onClick","ImageGalleryItem","tags","webformatURL","largeImageURL","src","alt","ImageGallery","dataImages","handleClickLoadMore","prevProps","prevState","prevPage","prevQuery","newPage","newQuery","api","then","data","hits","console","log","map","id","length","App","handleFormSubmit","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0ec74bae.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (this.state.query.trim() === '') {\r\n      alert('enter the name of the picture');\r\n    }\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  handleQuery = event => {\r\n    this.setState({ query: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleQuery}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Searchbar;\r\n","import axios from 'axios';\r\n\r\nconst BASEURL = 'https://pixabay.com/api/';\r\nconst key = '23587360-9e8d8834fc0ca0fd407cdbeb2';\r\n\r\nexport const searchQuery = (page, query, maxPerPage) =>\r\n  axios.get(\r\n    BASEURL +\r\n      `?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=${maxPerPage}`,\r\n  );\r\n","import PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ tags, webformatURL, largeImageURL }) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img className=\"ImageGalleryItem-image\" src={webformatURL} alt={tags} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  tags: PropTypes.string,\r\n  largeImageURL: PropTypes.string,\r\n  werformatURL: PropTypes.string,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport * as api from '../../Servises/api';\r\nimport Button from '../Button/Button';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    page: 1,\r\n    dataImages: [],\r\n    maxPerPage: 12,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevPage = prevState.page;\r\n    const prevQuery = prevProps.query;\r\n    const newPage = this.state.page;\r\n    const newQuery = this.props.query;\r\n    const maxPerPage = this.state.maxPerPage;\r\n\r\n    if (prevQuery !== newQuery) {\r\n      this.setState({ dataImages: [], page: 1 });\r\n      api.searchQuery(newPage, newQuery, maxPerPage).then(({ data }) => {\r\n        this.setState({ dataImages: [...data.hits] });\r\n        console.log(data);\r\n        console.log(this.state.dataImages);\r\n        console.log('query');\r\n      });\r\n    }\r\n    if (prevPage !== newPage) {\r\n      api.searchQuery(newPage, newQuery, maxPerPage).then(({ data }) => {\r\n        this.setState({ dataImages: [...prevState.dataImages, ...data.hits] });\r\n        console.log(this.state.dataImages);\r\n        console.log('page', this.state.page);\r\n      });\r\n    }\r\n  }\r\n\r\n  handleClickLoadMore = () => {\r\n    let { page } = this.state;\r\n    page += 1;\r\n    this.setState({ page });\r\n  };\r\n\r\n  render() {\r\n    const { dataImages } = this.state;\r\n    return (\r\n      <>\r\n        <ul className=\"ImageGallery\">\r\n          {dataImages.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              tags={tags}\r\n              webformatURL={webformatURL}\r\n              largeImageURL={largeImageURL}\r\n            />\r\n          ))}\r\n        </ul>\r\n        {this.state.dataImages.length > 11 && (\r\n          <Button onClick={this.handleClickLoadMore} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  dataImages: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\n// import * as api from './Servises/api';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\n// import Button from './components/Button/Button';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    // page: 1,\r\n    // dataImages: [],\r\n    // maxPerPage: 12,\r\n    query: '',\r\n  };\r\n\r\n  // componentDidUpdate(prevProps, prevState) {\r\n  //   const prevPage = prevState.page;\r\n  //   const prevQuery = prevState.query;\r\n  //   const newPage = this.state.page;\r\n  //   const newQuery = this.state.query;\r\n  //   const maxPerPage = this.state.maxPerPage;\r\n\r\n  //   if (prevQuery !== newQuery) {\r\n  //     this.setState({ page: 1, dataImages: [] });\r\n  //     this.searchQuery1(newPage, newQuery, maxPerPage);\r\n  //   }\r\n  //   if (prevPage !== newPage) {\r\n  //     this.searchQuery(newPage, newQuery, maxPerPage);\r\n  //   }\r\n  // }\r\n\r\n  handleFormSubmit = query => {\r\n    this.setState({ query });\r\n  };\r\n\r\n  // searchQuery1 = (page, query, maxPerPage) => {\r\n  //   api.searchQuery(page, query, maxPerPage).then(({ data }) => {\r\n  //     console.log(data.hits);\r\n  //     console.log(this.state.dataImages);\r\n  //     this.setState({ dataImages: [] });\r\n  //     const newDataImages = [...data.hits];\r\n  //     this.setState({ dataImages: newDataImages });\r\n  //   });\r\n  // };\r\n\r\n  // searchQuery = (page, query, maxPerPage) => {\r\n  //   api.searchQuery(page, query, maxPerPage).then(({ data }) => {\r\n  //     console.log(data.hits);\r\n  //     console.log(this.state.dataImages);\r\n  //     const newDataImages = [...this.state.dataImages, ...data.hits];\r\n  //     this.setState({ dataImages: newDataImages });\r\n  //   });\r\n  // };\r\n\r\n  // handleClickLoadMore = () => {\r\n  //   let { page } = this.state;\r\n  //   page += 1;\r\n  //   this.setState({ page });\r\n  // };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        <ImageGallery query={this.state.query} />\r\n        {/* {this.state.dataImages.length > 11 && (\r\n          <Button onClick={this.handleClickLoadMore} />\r\n        )} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}